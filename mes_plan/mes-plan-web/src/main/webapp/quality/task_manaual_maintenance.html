<!--#include virtual="/mes-plan/include/header.html" -->
<div class="container-fluid panel-custom panel panel-default animated fadeInRight" style="padding:25px;">
 <div class="warpper animated fadeInRight">
  <!-- 任务手工维护-->
<div class="container-fluid panel-custom panel panel-default ">
    <div class="row">
        <!-- 位置预留  -->
        <form class="form-horizontal col-sm-12">
        <div class="col-sm-4">
             <label class="control-label col-md-4">校验类型：</label>
	                 <div class="col-md-8">
	                   <select  class="form-control">
						          <option value="进料校验">进料校验</option>
						          <option value="工序校验">工序校验</option>
						          <option value="成品校验">成品校验</option>
						          <option value="出库校验">出库校验</option>
						          <option value="外协校验">外协校验</option>
						          <option value="其他">其他</option>
       						</select>
	                 </div>
        </div>
        <div class="col-sm-4">
            <label class="control-label col-md-4">质检方案：</label>
	                 <div class="col-md-8">
	                   <select  class="form-control">
						          <option value="原纱检验">原纱检验</option>
						          <option value="浆料检验">浆料检验</option>
       						</select>
	                 </div>
        </div>
        <div class="col-sm-4 text-right">
        <!-- 联动查询，查询处于编辑状态的任务，且只能看到本人编写的任务 -->
            <button class="btn btn-primary" onclick="fun_submit()" ><span class="glyphicon glyphicon-search"></span>查询</button>
        </div>
        </form>
    </div>
    </div>
    
    <!-- 检验任务信息列表 -->
    <div class="container-fluid panel-custom panel panel-default">
    <div class="row">
        <div class="col-sm-12">
            <h4 class="page-header">检验任务信息列表</h4>
        </div>
    </div>
 
  <!-- 表格 -->
    <div class="row">
     <div class="col-sm-12 text-center">
            <table id="table1" class="table table-striped table-hover table-condensed table-bordered">
                <thead>
                    <tr>
                        <th class="text-left"><input type="checkbox" id="checkall"> </th>
                        <th>质检任务编号</th>
                        <th>检验方式</th>
                        <th>检验类型</th>
                        <th>质检方案</th>
                        <th>物料编号</th>
                        <th>批次号</th>
                        <th>品种</th>
                        <th>到货时间</th>
                        <th>厂家</th>
                        <th>规格</th>
                        <th>来货数量</th>
                        <th>计量单位</th>
                        <th>状态</th>
                    </tr>
                </thead>
                <tbody>
                  <tr>
	                  <td class="text-left"><input type='checkbox' name='checkList'></td>
	                  <td>1001</td>
	                  <td>专检</td>
	                  <td>进料检验</td>
	                  <td>浆料检验</td>
	                  <td>20001</td>
	                  <td></td>
	                  <td></td>
	                  <td></td>
	                  <td></td>
	                  <td></td>
	                  <td></td>
	                  <td></td>
	                  <td>编辑</td>
                 </tr>
                </tbody>
            </table>
        
    </div>
</div>

<div class="row">
<div class="col-sm-12 text-right"> 
<button class="btn btn-primary btn-sm" data-toggle="modal"  data-target="#addmodal"><span class="glyphicon glyphicon-plus"></span>新增</button>
<!-- 只能本人修改 -->
<button class="btn btn-primary btn-sm" data-toggle="modal"  data-target="#addmodal"><span class="glyphicon glyphicon-pencil"></span>修改</button>
<!-- 删除编辑状态的任务，只能操作本人的任务 -->
<button class="btn btn-primary btn-sm" onclick="cancel()" ><span class="glyphicon glyphicon-trash"></span>删除</button>
<button class="btn btn-primary btn-sm" data-toggle="modal"  data-target="#sumbit"><span class="glyphicon glyphicon-ok"></span>提交</button>
</div>
</div>
</div>


<!-- 模态框（Modal） -->
<form method="post" action="" class="form-horizontal" role="form" id="form_data" onsubmit="return check_form()" style="margin: 20px;">
    <div class="modal fade" id="addmodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="width:900px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        检验任务信息维护
                    </h4>
                </div>
        <div class="modal-body">
        <div class="row">
        <div class="col-sm-6">
             <label class="control-label col-md-4">检验方式：</label>
	                 <div class="col-md-8">
	                   <select  class="form-control">
						          <option value="巡检">巡检</option>
						          <option value="专检">专检</option>
       						</select>
	                 </div>
        </div>
        <div class="col-sm-6">
             <label class="control-label col-md-4">检验类型：</label>
	                 <div class="col-md-8">
	                   <select  class="form-control">
						          <option value="进料校验">进料校验</option>
						          <option value="工序校验">工序校验</option>
						          <option value="成品校验">成品校验</option>
						          <option value="出库校验">出库校验</option>
						          <option value="外协校验">外协校验</option>
						          <option value="其他">其他</option>

       						</select>
	                 </div>
        </div>
        </div>
        <div class="row">
        <div class="col-sm-6">
             <label class="control-label col-md-4">质检方案：</label>
	                 <div class="col-md-8">
	                   <select  class="form-control">
						          <option value="浆料检验">浆料检验</option>
						          <option value="原纱检验">原纱检验</option>
       						</select>
	                 </div>
        </div>
        <div class="col-sm-6">
             <label class="control-label col-md-4">生产任务编号：</label>
	                 <div class="col-md-8">
						     <input type="text" class="form-control">
	                 </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6">
             <label class="control-label col-md-4">生产产品：</label>
	                 <div class="col-md-8">
	                    <input type="text" class="form-control" disabled>
	                 </div>
        </div>
        <div class="col-sm-6">
             <label class="control-label col-md-4">机台：</label>
	                 <div class="col-md-8">
						     <input type="text" class="form-control">
	                 </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6">
             <label class="control-label col-md-4">生产日期：</label>
	                 <div class="col-md-8">
	                    <input type="text" class="form-control" placeholder="系统当前日期" disabled>
	                 </div>
        </div>
        <div class="col-sm-6">
             <label class="control-label col-md-4">生产班组：</label>
	                 <div class="col-md-8">
						     <select  class="form-control">
						          <option value="甲">甲</option>
						          <option value="乙">乙</option>
						          <option value="丙">丙</option>
       						</select>
	                 </div>
        </div>
      </div>
      <div class="row">
      <div class="col-sm-12 text-center">
      <button class="btn btn-primary btn-xs"><span class="glyphicon glyphicon-floppy-disk"></span>生产任务信息</button>
      <button class="btn btn-primary btn-xs" ><span class="glyphicon glyphicon-floppy-disk"></span>检验策略</button>
      <button class="btn btn-primary btn-xs" onclick="Save()"><span class="glyphicon glyphicon-saved"></span>新增保存</button>
      </div>
      </div>
      
      </div>
       </div>
     </div>
     </div>
            </form>
            
           
     
<!-- 模态框（Modal） -->

    <div class="modal fade" id="sumbit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        专检任务信息维护
                    </h4>
                </div>
        <div class="modal-body">
        <form method="post" action="" class="form-horizontal" role="form" id="form_data" onsubmit="return check_form()" style="margin: 20px;">
        <div class="row">
        <div class="col-sm-12 text-center">
             <label class="control-label col-md-4">下一步骤：</label>
	                 <div class="col-md-8">
	                   <select id="task"  class="form-control">
						          <option  value="任务分配">任务分配</option>
						          <option  value="任务接受">任务接受</option>
       						</select>
	                 </div>
        </div>
        </div>
        </form>
      <div class="row">
      <div class="col-sm-12 text-center">
      <button class="btn btn-primary btn-xs" onclick="Sumbit()"><span class="glyphicon glyphicon-ok"></span>提交</button>
      </div>
      </div>
       </div>
     </div>
     </div>
     </div>
     </div>
</div>

  <script type="text/javascript">
    $(function(){
   	 //绑定tadatable1
		  $("#table1").DataTable({
              "searching": false,
              "ordering": false,//是否排序
              "pagingType": "full_numbers",// 分页类型
              "bLengthChange": false,//是否开启分页功能,即使设置为false,仍然会有一个默认的<前进,后退>分页组件
              "language": {//自定义语言设计
                  "sLengthMenu": "每页显示 _MENU_ 条记录",//
                  "sInfo": "从 _START_ 到 _END_ /共 _TOTAL_ 条数据",//页脚信息
                  "sInfoEmpty": "没有数据",//表格数据时
                  "sInfoFiltered": "(从 _MAX_ 条数据中检索)",
                  "sZeroRecords": "没有检索到数据",
                  "sSearch": "查找:",//
                  "oPaginate": {//设置分页按钮
                      "sFirst": "首页",
                      "sPrevious": "前一页",
                      "sNext": "后一页",
                      "sLast": "尾页"
                  }
              },
          });
   	 
}); 
    //checkbox全选
    $("#checkall").click(function () {
        if ($(this).prop("checked")) {
            $("input[name='checkList']").prop("checked", true);
            $("tr").addClass('selected');
        } else {
            $("input[name='checkList']").prop("checked", false);
            $("tr").removeClass('selected');
        }
    });
    
    //点击使用弹窗
 $('#addmodal').modal({
     show : false,//加载一次 index.html 到容器内
     backdrop : false,//按下 esc 不关闭
     keyboard : true,//初始化隐藏，如果是按钮点击触发，第一次点击则无法显示，第二次显示。
   //href="index.html"
}); 

    
  //点击使用弹窗
  $('#sumbit').modal({
      show : false,//加载一次 index.html 到容器内
      backdrop : false,//按下 esc 不关闭
      keyboard : true,//初始化隐藏，如果是按钮点击触发，第一次点击则无法显示，第二次显示。
    //href="index.html"
}); 
  
  //点击跳转 
    
  //确认保存
      function Save(){
    	  layer.confirm("请确定是否保存？", function () {
             
              $.ajax({
                  type: "post",
                  url: "",
                  data: postdata,
                  success: function (json) {
                      sysAlert("保存成功！", function () {
                          
                      });
                  },
                  error: function (data){
                	  sysAlert('保存失败:' + data);
                      
                  }
              })
          })
      }
  
      //确认删除
      function cancel(){
    	  layer.confirm("请确定是否删除？", function () {
              sysLoading();
              $.ajax({
                  type: "post",
                  url: "",
                  data: postdata,
                  success: function (json) {
                      sysAlert("删除成功！", function () {
                          
                      });
                  },
                  error: function (data){
                	  sysAlert('删除失败:' + data);
                      
                  }
              })
          })
      }
      
    //确认提交
      function Sumbit(){
    	
    	// alert($("#task").);
    	var Judg = $("#task").find("option:selected").text();//获取值
    	//alert(Judg);
    	if(Judg =="任务分配"){
    			   //任务分配
    			//url ="task_assignment.html";
    			  // alert(1);
    			  layer.confirm("确定要跳转到任务分配？", function () {
			   layer.closeAll();
			   window.location.href ="task_assignment.html";
		 }) 
    		
    	}else{
    		 layer.confirm("确定要跳转到任务接收？", function () {
  			   layer.closeAll();
  			 window.location.href ="task_reception.html";
  		 }) 
    		
    	}
    	
    	 
    	   
       }
    
</script>
    
</body>
</html>